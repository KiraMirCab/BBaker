(function(){var e={3482:function(e,t,r){"use strict";r.r(t),t["default"]={locale:e=>{const{normalize:t}=e;return t(["ENG"])},user:{fName:e=>{const{normalize:t}=e;return t(["First name"])},lName:e=>{const{normalize:t}=e;return t(["Last name"])},pass:e=>{const{normalize:t}=e;return t(["Password"])},error:{fName:e=>{const{normalize:t}=e;return t(["First name is required"])},lName:e=>{const{normalize:t}=e;return t(["Last name is required"])},email:e=>{const{normalize:t}=e;return t(["Please enter a vaild email address"])},pass:e=>{const{normalize:t}=e;return t(["Password shoud be at least 4 characters long"])},passReq:e=>{const{normalize:t}=e;return t(["Password is required"])},wrong:e=>{const{normalize:t}=e;return t(["Wrong credentialas, please try again"])}},signUp:e=>{const{normalize:t}=e;return t(["Sign up"])},buttonSU:e=>{const{normalize:t}=e;return t(["Sign up"])},signIn:e=>{const{normalize:t}=e;return t(["Sign in"])},buttonSI:e=>{const{normalize:t}=e;return t(["Sign in"])},profile:e=>{const{normalize:t}=e;return t(["My profile"])},noAcc:e=>{const{normalize:t}=e;return t(["Don't have an account?"])},yesAcc:e=>{const{normalize:t}=e;return t(["Already have an account?"])},logout:e=>{const{normalize:t}=e;return t(["Log Out"])},emailSent:e=>{const{normalize:t}=e;return t(["Thank you! We've sent an email to your address to confirm the sign up. Please follow the link we sent you."])}},menu:{home:e=>{const{normalize:t}=e;return t(["Home"])},products:e=>{const{normalize:t}=e;return t(["Products"])},past:e=>{const{normalize:t}=e;return t(["Past Orders"])},cart:e=>{const{normalize:t}=e;return t(["Cart"])}},card:{description:e=>{const{normalize:t}=e;return t(["Description"])},price:e=>{const{normalize:t}=e;return t(["Price"])},quantity:e=>{const{normalize:t}=e;return t(["Quantity"])},cart:e=>{const{normalize:t}=e;return t(["Add to cart"])},details:e=>{const{normalize:t}=e;return t(["Details"])},active:e=>{const{normalize:t}=e;return t(["Active"])},notactive:e=>{const{normalize:t}=e;return t(["Not active"])},activate:e=>{const{normalize:t}=e;return t(["Publish"])},deactivate:e=>{const{normalize:t}=e;return t(["Deactivate"])}},product:{transport:e=>{const{normalize:t}=e;return t(["This product requires special delivery, so the delivery fee might be higher than usual"])},quantity:e=>{const{normalize:t}=e;return t(["Chose quantity"])},manage:e=>{const{normalize:t}=e;return t(["Manage products"])},update:e=>{const{normalize:t}=e;return t(["Update product nº"])},creationDate:e=>{const{normalize:t}=e;return t(["Created on"])},total:e=>{const{normalize:t}=e;return t(["Total price"])},paid:e=>{const{normalize:t}=e;return t(["Payment"])},products:e=>{const{normalize:t}=e;return t(["Purchased yummies"])},notpaid:e=>{const{normalize:t}=e;return t(["Not paid yet"])},save:e=>{const{normalize:t}=e;return t(["Product correctly saved"])}},cart:{product:e=>{const{normalize:t}=e;return t(["Product"])},price:e=>{const{normalize:t}=e;return t(["Price"])},qty:e=>{const{normalize:t}=e;return t(["Qty"])},actions:e=>{const{normalize:t}=e;return t(["Actions"])},noitems:e=>{const{normalize:t}=e;return t(["No items in cart"])},checkout:e=>{const{normalize:t}=e;return t(["Checkout"])},save:e=>{const{normalize:t}=e;return t(["Item added to cart! "])}},newOrder:{header:e=>{const{normalize:t}=e;return t(["New order nº "])}},BBorder:{header:e=>{const{normalize:t}=e;return t(["Order nº "])},created:e=>{const{normalize:t}=e;return t(["Created"])},name:e=>{const{normalize:t}=e;return t(["Name"])},quantity:e=>{const{normalize:t}=e;return t(["Quantity"])},price:e=>{const{normalize:t}=e;return t(["Price"])},confirm:e=>{const{normalize:t}=e;return t(["Confirm"])},pay:e=>{const{normalize:t}=e;return t(["Confirm and pay"])},cancel:e=>{const{normalize:t}=e;return t(["Cancel and delete"])},back:e=>{const{normalize:t}=e;return t(["Back to orders"])},paid:e=>{const{normalize:t}=e;return t(["Payment made"])}},ordersNow:{header:e=>{const{normalize:t}=e;return t(["All active orders"])}},delivery:{addr:e=>{const{normalize:t}=e;return t(["Address for the delivery"])},addrPlaceholder:e=>{const{normalize:t}=e;return t(["Type in the address"])},addrError:e=>{const{normalize:t}=e;return t(["Without an address we can't bring you joy"])},recipientName:e=>{const{normalize:t}=e;return t(["Name of the Recipient"])},nameError:e=>{const{normalize:t}=e;return t(["If we don't know the person, your mother-in-law will hardly share"])},recipientPhone:e=>{const{normalize:t}=e;return t(["Recipient's phone number"])},phoneError:e=>{const{normalize:t}=e;return t(["We really need this phone number. We hate leaving people without dessert if they're not at home"])},phoneFormat:e=>{const{normalize:t}=e;return t(["Phone number format: XXX-XXX-XXX"])},note:e=>{const{normalize:t}=e;return t(["Would you like to leave a note?"])},noteShort:e=>{const{normalize:t}=e;return t(["Note"])},notePlaceholder:e=>{const{normalize:t}=e;return t(["Best hours for the delivery? A place difficult to find? Anything you would like to add for the delivery person..."])},date:e=>{const{normalize:t}=e;return t(["Delivery Date"])},surprise:e=>{const{normalize:t}=e;return t(["Is this a surprise for someone special?"])},gift:e=>{const{normalize:t}=e;return t(["It is a surprise present"])},save:e=>{const{normalize:t}=e;return t(["Save"])},transport:e=>{const{normalize:t}=e;return t(["This delivery requires special transport"])}}}},3063:function(e,t,r){"use strict";r.r(t),t["default"]={locale:e=>{const{normalize:t}=e;return t(["ESP"])},user:{fName:e=>{const{normalize:t}=e;return t(["Nombre"])},lName:e=>{const{normalize:t}=e;return t(["Apellido"])},pass:e=>{const{normalize:t}=e;return t(["Contraseña"])},error:{fName:e=>{const{normalize:t}=e;return t(["Nombre es obligatorio"])},lName:e=>{const{normalize:t}=e;return t(["Apellido es obligatorio"])},email:e=>{const{normalize:t}=e;return t(["Por favor use una dirección de correo electrónico válida"])},pass:e=>{const{normalize:t}=e;return t(["Contraseña debe ser de al menos 4 caracteres"])},passReq:e=>{const{normalize:t}=e;return t(["Contraseña es obligatoria"])},wrong:e=>{const{normalize:t}=e;return t(["Credenciales incorrectos, prueba de nuevo"])}},signUp:e=>{const{normalize:t}=e;return t(["Crea un usuario nuevo"])},buttonSU:e=>{const{normalize:t}=e;return t(["Crear"])},signIn:e=>{const{normalize:t}=e;return t(["Accede a tu perfil"])},buttonSI:e=>{const{normalize:t}=e;return t(["Acceder"])},profile:e=>{const{normalize:t}=e;return t(["Mi perfil"])},noAcc:e=>{const{normalize:t}=e;return t(["No tienes cuenta?"])},yesAcc:e=>{const{normalize:t}=e;return t(["Ya tienes una cuenta?"])},logout:e=>{const{normalize:t}=e;return t(["Cerrar sesión"])},emailSent:e=>{const{normalize:t}=e;return t(["¡Gracias! Hemos enviado un correo a la dirección indicada. Por favor pincha en el enlace que te hemos enviado."])}},menu:{home:e=>{const{normalize:t}=e;return t(["Inicio"])},products:e=>{const{normalize:t}=e;return t(["Productos"])},past:e=>{const{normalize:t}=e;return t(["Pedidos anteriores"])},cart:e=>{const{normalize:t}=e;return t(["Carrito"])}},card:{description:e=>{const{normalize:t}=e;return t(["Descripción"])},price:e=>{const{normalize:t}=e;return t(["Precio"])},quantity:e=>{const{normalize:t}=e;return t(["Cantidad"])},cart:e=>{const{normalize:t}=e;return t(["Al carrito"])},details:e=>{const{normalize:t}=e;return t(["Ver detalles"])},active:e=>{const{normalize:t}=e;return t(["Activo"])},notactive:e=>{const{normalize:t}=e;return t(["Desactivado"])},activate:e=>{const{normalize:t}=e;return t(["Publicar"])},deactivate:e=>{const{normalize:t}=e;return t(["Quitar"])}},product:{transport:e=>{const{normalize:t}=e;return t(["Este producto requiere un transporte especial, por lo que el gasto del transporte puede ser algo más alto"])},quantity:e=>{const{normalize:t}=e;return t(["Elige la cantidad"])},manage:e=>{const{normalize:t}=e;return t(["Modificar productos"])},update:e=>{const{normalize:t}=e;return t(["Modificar los datos del producto nº"])},creationDate:e=>{const{normalize:t}=e;return t(["Fecha creación"])},total:e=>{const{normalize:t}=e;return t(["Precio total"])},paid:e=>{const{normalize:t}=e;return t(["Pagado"])},products:e=>{const{normalize:t}=e;return t(["Delicias compradas"])},notpaid:e=>{const{normalize:t}=e;return t(["No está pagado todavía"])},save:e=>{const{normalize:t}=e;return t(["Producto guardado correctamente"])}},cart:{product:e=>{const{normalize:t}=e;return t(["Producto"])},price:e=>{const{normalize:t}=e;return t(["Precio"])},qty:e=>{const{normalize:t}=e;return t(["Cant"])},actions:e=>{const{normalize:t}=e;return t(["Acciones"])},noitems:e=>{const{normalize:t}=e;return t(["No hay artículos en el carrito"])},checkout:e=>{const{normalize:t}=e;return t(["Pasar por caja"])},save:e=>{const{normalize:t}=e;return t(["Añadido al carrito!"])}},newOrder:{header:e=>{const{normalize:t}=e;return t(["Nuevo pedido nº "])}},BBorder:{header:e=>{const{normalize:t}=e;return t(["Pedido nº "])},created:e=>{const{normalize:t}=e;return t(["Creado"])},name:e=>{const{normalize:t}=e;return t(["Nombre"])},quantity:e=>{const{normalize:t}=e;return t(["Cantidad"])},price:e=>{const{normalize:t}=e;return t(["Precio"])},confirm:e=>{const{normalize:t}=e;return t(["Confirmar"])},pay:e=>{const{normalize:t}=e;return t(["Confirmar y pagar"])},cancel:e=>{const{normalize:t}=e;return t(["Cancelar y eliminar"])},back:e=>{const{normalize:t}=e;return t(["Volver a pedidos"])},paid:e=>{const{normalize:t}=e;return t(["Fecha de pago"])}},ordersNow:{header:e=>{const{normalize:t}=e;return t(["Todos los pedidos activos"])}},delivery:{addr:e=>{const{normalize:t}=e;return t(["Dirección de la entrega"])},addrPlaceholder:e=>{const{normalize:t}=e;return t(["Escriba la dirección"])},addrError:e=>{const{normalize:t}=e;return t(["Sin saber la dirección no sabremos dónde está la casa que tenemos que llenar de felicidad"])},recipientName:e=>{const{normalize:t}=e;return t(["Nombre del destinatario"])},nameError:e=>{const{normalize:t}=e;return t(["Si no sabemos el destinatario, tu suegra puede dejarte sin dulce"])},recipientPhone:e=>{const{normalize:t}=e;return t(["El número de teléfono del destinatario"])},phoneError:e=>{const{normalize:t}=e;return t(["Necesitamos un número de contacto. Odiamos dejar a la gente sin postre si no está en casa"])},phoneFormat:e=>{const{normalize:t}=e;return t(["Formato del número de teléfono: XXX-XXX-XXX"])},note:e=>{const{normalize:t}=e;return t(["Quiere dejar una nota para el repartidor?"])},noteShort:e=>{const{normalize:t}=e;return t(["Nota"])},notePlaceholder:e=>{const{normalize:t}=e;return t(["Las mejores horas de la entrega? Un sitio dificil de encontrar? Cualquier cosa que quiere decirnos..."])},date:e=>{const{normalize:t}=e;return t(["Fecha de entrega"])},surprise:e=>{const{normalize:t}=e;return t(["Es una sorpresa para alguien especial?"])},gift:e=>{const{normalize:t}=e;return t(["Es un regalo"])},save:e=>{const{normalize:t}=e;return t(["Guardar"])},transport:e=>{const{normalize:t}=e;return t(["Esta entrega requiere un transporte especial"])}}}},3084:function(e,t,r){"use strict";var n=r(9242),o=r(3396),a=r(7139);const i={class:"top-bar spread"},s={class:"top-bar-nav"},c=(0,o._)("i",{class:"icofont-cup-cake"},null,-1),l=(0,o._)("i",{class:"icofont-pen-alt-1"},null,-1),u=(0,o._)("i",{class:"icofont-ui-add"},null,-1),d=(0,o._)("span",null,"Añadir producto nuevo",-1),m=(0,o._)("i",{class:"icofont-list"},null,-1),p=(0,o._)("span",null,"Pedidos",-1),g=(0,o._)("i",{class:"icofont-search-map"},null,-1),h=(0,o._)("span",null,"Entregas en el mapa",-1),f=(0,o._)("i",{class:"icofont-users-alt-3"},null,-1),v=(0,o._)("span",null,"Listar usuarios",-1),z={class:"top-bar-nav"},y=(0,o._)("i",{class:"icofont-cart-alt"},null,-1),w=(0,o._)("i",{class:"icofont-user-alt-5"},null,-1),b=[w];function k(e,t,r,n,w,k){const _=(0,o.up)("router-link"),P=(0,o.up)("router-view"),C=(0,o.up)("Sidebar"),D=(0,o.up)("UserMenu"),q=(0,o.up)("vue-confirm-dialog");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("header",i,[(0,o._)("nav",s,[(0,o.Wm)(_,{to:"/",class:"top-bar-link"},{default:(0,o.w5)((()=>[c,(0,o._)("span",null,(0,a.zw)(e.$t("menu.home")),1)])),_:1}),w.client?((0,o.wg)(),(0,o.j4)(_,{key:0,to:"/past-orders",class:"top-bar-link"},{default:(0,o.w5)((()=>[(0,o._)("span",null,(0,a.zw)(e.$t("menu.past")),1)])),_:1})):(0,o.kq)("",!0),w.admin?((0,o.wg)(),(0,o.j4)(_,{key:1,to:"/products",class:"top-bar-link"},{default:(0,o.w5)((()=>[l,(0,o._)("span",null,(0,a.zw)(e.$t("product.manage")),1)])),_:1})):(0,o.kq)("",!0),w.admin?((0,o.wg)(),(0,o.j4)(_,{key:2,to:"/add-new-product",class:"top-bar-link"},{default:(0,o.w5)((()=>[u,d])),_:1})):(0,o.kq)("",!0),w.employee?((0,o.wg)(),(0,o.j4)(_,{key:3,to:"/orders-now",class:"top-bar-link"},{default:(0,o.w5)((()=>[m,p])),_:1})):(0,o.kq)("",!0),w.delivery?((0,o.wg)(),(0,o.j4)(_,{key:4,to:"/map-deliveries",class:"top-bar-link"},{default:(0,o.w5)((()=>[g,h])),_:1})):(0,o.kq)("",!0),w.admin?((0,o.wg)(),(0,o.j4)(_,{key:5,to:"/find-user",class:"top-bar-link"},{default:(0,o.w5)((()=>[f,v])),_:1})):(0,o.kq)("",!0)]),(0,o._)("div",z,[w.client?((0,o.wg)(),(0,o.iD)("div",{key:0,onClick:t[0]||(t[0]=(...e)=>k.toggleSidebar&&k.toggleSidebar(...e)),class:"top-bar-cart-link"},[y,(0,o._)("span",null,(0,a.zw)(e.$t("menu.cart"))+" ("+(0,a.zw)(k.totalQuantity)+")",1)])):(0,o.kq)("",!0),(0,o._)("div",{onClick:t[1]||(t[1]=(...e)=>k.toggleUserMenu&&k.toggleUserMenu(...e)),class:"top-bar-user-link"},b),(0,o._)("div",{onClick:t[2]||(t[2]=(...e)=>k.toggleLanguage&&k.toggleLanguage(...e)),class:"top-bar-lang-link"},[(0,o._)("span",null,(0,a.zw)(e.$t("locale")),1)])])]),(0,o.Wm)(P,{inventory:w.inventory,addToCart:k.addToCart,getProducts:k.getProducts},null,8,["inventory","addToCart","getProducts"]),w.showSidebar?((0,o.wg)(),(0,o.j4)(C,{key:0,toggle:k.toggleSidebar,cart:w.cart,inventory:w.inventory,remove:k.removeItem,userID:w.userID,emptyCart:k.emptyCart},null,8,["toggle","cart","inventory","remove","userID","emptyCart"])):(0,o.kq)("",!0),w.showUserMenu?((0,o.wg)(),(0,o.j4)(D,{key:1,toggle:k.toggleUserMenu,logout:k.logOut,logged:this.logged},null,8,["toggle","logout","logged"])):(0,o.kq)("",!0),(0,o.Wm)(q)],64)}const _={class:"cart-container"},P={class:"cart"},C={class:"cart-title spread"},D=(0,o._)("i",{class:"icofont-cart-alt icofont-1x"},null,-1),q={class:"cart-body"},O={class:"cart-table"},N=(0,o._)("th",null,"Total",-1),S=(0,o._)("th",null,[(0,o._)("span",{class:"sr-only"},"Actions")],-1),E={class:"center"},j={class:"center"},I=["onClick"],U={key:0,class:"center"},$=(0,o._)("br",null,null,-1),A={class:"spread"},T=(0,o._)("strong",null,"Total:",-1);function M(e,t,r,n,i,s){return(0,o.wg)(),(0,o.iD)("aside",_,[(0,o._)("div",P,[(0,o._)("h1",C,[(0,o._)("span",null,[(0,o.Uk)((0,a.zw)(e.$t("menu.cart"))+" ",1),D]),(0,o._)("button",{onClick:t[0]||(t[0]=(...e)=>r.toggle&&r.toggle(...e)),class:"cart-close"},"×")]),(0,o._)("div",q,[(0,o._)("table",O,[(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,(0,a.zw)(e.$t("cart.product")),1),(0,o._)("th",null,(0,a.zw)(e.$t("cart.price")),1),(0,o._)("th",null,(0,a.zw)(e.$t("cart.qty")),1),N,S])]),(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.cart,((e,t,n)=>((0,o.wg)(),(0,o.iD)("tr",{key:n},[(0,o._)("td",null,(0,a.zw)(s.getName(t)),1),(0,o._)("td",null,(0,a.zw)(s.getPrice(t))+"€",1),(0,o._)("td",E,(0,a.zw)(e),1),(0,o._)("td",null,(0,a.zw)((e*s.getPrice(t)).toFixed(2))+"€",1),(0,o._)("td",j,[(0,o._)("button",{onClick:e=>r.remove(t),class:"btn btn-light cart-remove"}," × ",8,I)])])))),128))])]),Object.keys(r.cart).length?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",U,[(0,o._)("em",null,(0,a.zw)(e.$t("cart.noitems")),1)])),$,(0,o._)("div",A,[(0,o._)("span",null,[T,(0,o.Uk)(" "+(0,a.zw)(s.calculateTotal())+"€",1)]),0!==Object.keys(this.cart).length?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"btn btn-light",onClick:t[1]||(t[1]=(...e)=>s.createOrder&&s.createOrder(...e))},(0,a.zw)(e.$t("cart.checkout")),1)):(0,o.kq)("",!0)])])])])}var X=r(678);const x={class:"home"},L=(0,o._)("div",{class:"splash-container"},[(0,o._)("div",{class:"splash"},[(0,o._)("h1",null,"BBaker's pastry")])],-1),W={class:"wrapper"},F={class:"card-container"};function Z(e,t,r,n,a,i){const s=(0,o.up)("ProductCard");return(0,o.wg)(),(0,o.iD)("div",x,[L,(0,o._)("main",W,[(0,o._)("div",F,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.inventory.filter((e=>e.active)),((e,t)=>((0,o.wg)(),(0,o.j4)(s,{key:e.id,class:"card",index:t,product:e,addToCart:r.addToCart,routerPath:a.routerPath,onClicked:i.onClickChild},null,8,["index","product","addToCart","routerPath","onClicked"])))),128))])])])}var B=r(3759),R={name:"Home",props:["inventory","addToCart"],components:{ProductCard:B.Z},data(){return{routerPath:"/info-products/",currentProduct:""}},methods:{onClickChild(e){this.currentProduct=e}}},Q=r(89);const G=(0,Q.Z)(R,[["render",Z]]);var H=G;const Y=[{path:"/",name:"home",component:H},{path:"/register/:role(admin|employee|client|delivery)",name:"register",component:()=>r.e(685).then(r.bind(r,8585))},{path:"/login",name:"login",component:()=>r.e(535).then(r.bind(r,676))},{path:"/profile",name:"profile",component:()=>r.e(845).then(r.bind(r,6071)),beforeEnter:(e,t)=>{if(!localStorage.token)return"/login"}},{path:"/products",name:"products",component:()=>r.e(893).then(r.bind(r,230)),beforeEnter:(e,t)=>{if(!localStorage.token)return"/login"},key:Date.now()},{path:"/past-orders",name:"PastOrders",component:()=>r.e(760).then(r.bind(r,1812)),beforeEnter:(e,t)=>{if(!localStorage.token)return"/login"}},{path:"/add-new-product",name:"AddNewProduct",component:()=>Promise.all([r.e(228),r.e(386)]).then(r.bind(r,7033)),beforeEnter:(e,t)=>{if(!localStorage.token)return"/login"}},{path:"/info-products/:id",name:"InfoProduct",component:()=>r.e(799).then(r.bind(r,6714))},{path:"/update-products/:id",name:"UpdateProduct",component:()=>Promise.all([r.e(228),r.e(876)]).then(r.bind(r,534)),beforeEnter:(e,t)=>{if(!localStorage.token)return"/login"}},{path:"/new-order/:id",name:"NewOrder",component:()=>Promise.all([r.e(818),r.e(668)]).then(r.bind(r,5690))},{path:"/orders-now",name:"OrdersNow",component:()=>Promise.all([r.e(818),r.e(997)]).then(r.bind(r,2849)),beforeEnter:(e,t)=>{if(!localStorage.token)return"/login"}},{path:"/map-deliveries",name:"MapDeliveries",component:()=>r.e(15).then(r.bind(r,3523)),beforeEnter:(e,t)=>{if(!localStorage.token)return"/login"}},{path:"/find-user",name:"FindUser",component:()=>r.e(443).then(r.bind(r,7105)),beforeEnter:(e,t)=>{if(!localStorage.token)return"/login"}}],V=(0,X.p7)({history:(0,X.PO)("/"),routes:Y});var K=V,J=r(4911),ee={props:["toggle","cart","inventory","remove","userID","emptyCart"],data(){return{quantity:"",orderID:""}},methods:{getProduct(e){return this.inventory.find((t=>t.name===e))},getName(e){return"es"===this.$i18n.locale?e:this.getProduct(e).nameENG},getPrice(e){return this.getProduct(e).price},getId(e){return this.getProduct(e).id},calculateTotal(){const e=Object.entries(this.cart).reduce(((e,t,r)=>e+t[1]*this.getPrice(t[0])),0);return e.toFixed(2)},createOrder(){const e={creationDate:Date.now(),paidDate:"",total:this.calculateTotal(),user_id:this.userID,orderProductsDTO:Object.entries(this.cart).map((e=>({product_id:this.getId(e[0]),price:this.getPrice(e[0]),quantity:e[1]})))};console.log(e),J.Z.createNewOrder(e).then((e=>{K.push("/new-order/"+e.data.id),this.emptyCart()})),this.toggle()}}};const te=(0,Q.Z)(ee,[["render",M]]);var re=te;const ne={class:"user-menu-container"},oe={class:"user"},ae={class:"user-menu-link"},ie=(0,o._)("i",{class:"icofont-user-alt-5 icofont-1x"},null,-1),se={key:0},ce={key:1};function le(e,t,r,n,i,s){const c=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("aside",ne,[(0,o._)("div",oe,[(0,o._)("div",ae,[ie,(0,o._)("button",{onClick:t[0]||(t[0]=(...e)=>r.toggle&&r.toggle(...e)),class:"user-menu-close"},"×")]),(0,o._)("div",null,[(0,o.Wm)(c,{to:"/register/client",class:"user-menu-link",onClick:r.toggle},{default:(0,o.w5)((()=>[(0,o._)("span",null,(0,a.zw)(e.$t("user.signUp")),1)])),_:1},8,["onClick"])]),r.logged?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",se,[(0,o.Wm)(c,{to:"/login",class:"user-menu-link",onClick:r.toggle},{default:(0,o.w5)((()=>[(0,o._)("span",null,(0,a.zw)(e.$t("user.signIn")),1)])),_:1},8,["onClick"])])),r.logged?((0,o.wg)(),(0,o.iD)("div",ce,[(0,o.Wm)(c,{to:"/profile",class:"user-menu-link",onClick:r.toggle},{default:(0,o.w5)((()=>[(0,o._)("span",null,(0,a.zw)(e.$t("user.profile")),1)])),_:1},8,["onClick"])])):(0,o.kq)("",!0),r.logged?((0,o.wg)(),(0,o.iD)("div",{key:2,onClick:t[1]||(t[1]=(...e)=>s.logUserOut&&s.logUserOut(...e)),class:"user-menu-link"},[(0,o._)("span",null,(0,a.zw)(e.$t("user.logout")),1)])):(0,o.kq)("",!0)])])}var ue={props:["toggle","logout","logged"],data(){return{}},methods:{logUserOut(){this.logout(),this.$router.go(),this.$router.push("/"),this.toggle()}}};const de=(0,Q.Z)(ue,[["render",le]]);var me=de,pe=r(9354),ge=r(2492),he=r.n(ge),fe={components:{Sidebar:re,UserMenu:me},data(){return{showSidebar:!1,showUserMenu:!1,inventory:[],cart:{},user:{},userID:0,logged:!1,admin:!1,employee:!1,delivery:!1,client:!1}},computed:{totalQuantity(){return Object.values(this.cart).reduce(((e,t)=>e+t),0)}},methods:{getProducts(){pe.Z.getProducts().then((e=>{this.inventory=e.data})).catch((e=>{console.log(e.response.data)}))},addToCart(e,t){this.cart[e]||(this.cart[e]=0),this.cart[e]+=t,console.log(this.cart),t=0,he().fire({icon:"success",title:this.$t("cart.save"),showConfirmButton:!1,timer:1500})},toggleSidebar(){this.showSidebar=!this.showSidebar},removeItem(e){delete this.cart[e]},emptyCart(){this.cart={}},toggleLanguage(){"en"===this.$i18n.locale?this.$i18n.locale="es":this.$i18n.locale="en"},toggleUserMenu(){this.showUserMenu=!this.showUserMenu},getUser(){this.emitter.on("loggedUser",(e=>{this.updateUser()}))},updateUser(){const e=localStorage.getItem("user");e?(this.user=JSON.parse(e),this.userID=this.user.userID,this.logged=!0,"ADMIN"===this.user.userRole?(this.admin=!0,this.employee=!0,this.delivery=!0):"EMPLOYEE"===this.user.userRole?this.employee=!0:"DELIVERY"===this.user.userRole?(this.delivery=!0,this.employee=!0):"CLIENT"===this.user.userRole&&(this.client=!0)):(this.user={},this.admin=!1,this.employee=!1,this.delivery=!1,this.client=!1,this.userID="",this.logged=!1)},logOut(){localStorage.removeItem("token"),localStorage.removeItem("user"),this.getUser()}},created(){this.getProducts(),this.updateUser(),this.getUser()}};const ve=(0,Q.Z)(fe,[["render",k]]);var ze=ve,ye=(r(2166),r(7024),r(1855));function we(){const e=r(8092),t={};return e.keys().forEach((r=>{const n=r.match(/([A-Za-z0-9-_]+)\./i);if(n&&n.length>1){const o=n[1];t[o]=e(r).default}})),t}var be=(0,ye.o)({locale:"es",fallbackLocale:"en",messages:we()}),ke=r(6553),_e=r.n(ke),Pe=r(1373);const Ce=(0,n.ri)(ze),De=(0,Pe.Z)();Ce.use(K),Ce.use(be),Ce.use(_e()),Ce.config.globalProperties.emitter=De,Ce.mount("#app")},4911:function(e,t,r){"use strict";var n=r(2235),o=r.n(n);const a="/api/BBorder";class i{getOrders(){return o().get(a+"/")}getOrderInfo(e){return o().get(a+"/"+e)}getOrderProducts(e){return o().get(a+"/products/"+e)}getMyOrders(e){return o().get(a+"/myorders/"+e)}createNewOrder(e){return o().post(a+"/add",e)}setPaid(e){return o().post(a+"/paid",e)}deleteOrder(e){return o().post(a+"/delete",e)}getStatuses(){return o().get(a+"/all_statuses")}changeOrderStatus(e){return o().post(a+"/change_status",e)}getStatusChanges(e){return console.log(e),o().post(a+"/status_history",e,{headers:{"Content-Type":"application/json"}})}}t["Z"]=new i},9354:function(e,t,r){"use strict";var n=r(2235),o=r.n(n);r(2492);const a="/api/products";class i{getProducts(){return o().get(a)}getProductInfo(e){return o().get(a+"/"+e)}createNewProduct(e){return o().post(a+"/add",e)}}t["Z"]=new i},3759:function(e,t,r){"use strict";r.d(t,{Z:function(){return L}});var n=r(3396),o=r(7139),a=r(9242);const i={class:"card"},s=["href","onClick"],c={key:0,class:"card-title"},l={key:1,class:"card-title"},u={key:0,class:"badge bg-success"},d={key:1,class:"badge bg-secondary"},m={class:"card-body"},p=["src"],g=["src"],h={class:"row padding-top-15"},f={class:"col"},v={key:0},z={key:1},y={class:"row"},w={class:"cell"},b={class:"cell"},k={class:"row"},_={class:"cell"},P={class:"cell"},C={disabled:"",value:""},D=(0,n._)("option",null,"1",-1),q=(0,n._)("option",null,"2",-1),O=(0,n._)("option",null,"3",-1),N=(0,n._)("option",null,"4",-1),S=(0,n._)("option",null,"5",-1),E=(0,n._)("option",null,"10",-1),j=(0,n._)("option",null,"25",-1),I={class:"card-footer"};function U(e,t,U,$,A,T){const M=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(M,{to:U.routerPath+U.product.id,custom:""},{default:(0,n.w5)((({href:t,navigate:r})=>[(0,n._)("a",{href:t,onClick:e=>T.onClick(e,r),class:"card-link"},["es"===this.$i18n.locale?((0,n.wg)(),(0,n.iD)("div",c,(0,o.zw)(U.product.name),1)):((0,n.wg)(),(0,n.iD)("div",l,(0,o.zw)(U.product.nameENG),1))],8,s),U.update&&U.product.active?((0,n.wg)(),(0,n.iD)("p",u,(0,o.zw)(e.$t("card.active")),1)):(0,n.kq)("",!0),U.update&&!U.product.active?((0,n.wg)(),(0,n.iD)("p",d,(0,o.zw)(e.$t("card.notactive")),1)):(0,n.kq)("",!0)])),_:1},8,["to"]),(0,n._)("div",m,[(0,n.Wm)(M,{to:U.routerPath+U.product.id,class:"card-link"},{default:(0,n.w5)((()=>[U.product.image?((0,n.wg)(),(0,n.iD)("img",{key:0,class:"image",src:U.product.image,alt:"Image from the db"},null,8,p)):((0,n.wg)(),(0,n.iD)("img",{key:1,class:"image",src:r(6507),alt:"Image from the db"},null,8,g))])),_:1},8,["to"]),(0,n._)("form",null,[(0,n.Wm)(M,{to:U.routerPath+U.product.id,class:"card-link"},{default:(0,n.w5)((()=>[(0,n._)("div",h,[(0,n._)("div",f,["es"===this.$i18n.locale?((0,n.wg)(),(0,n.iD)("em",v,(0,o.zw)(U.product.shortDesc),1)):((0,n.wg)(),(0,n.iD)("em",z,(0,o.zw)(U.product.shortDescENG),1))])]),(0,n._)("div",y,[(0,n._)("div",w,[(0,n._)("label",null,(0,o.zw)(e.$t("card.price"))+":",1)]),(0,n._)("div",b,"€"+(0,o.zw)(U.product.price),1)])])),_:1},8,["to"]),(0,n._)("div",k,[(0,n._)("div",_,[(0,n._)("label",null,(0,o.zw)(e.$t("card.quantity"))+":",1)]),(0,n._)("div",P,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>A.quantity=e)},[(0,n._)("option",C,(0,o.zw)(e.$t("product.quantity")),1),D,q,O,N,S,E,j],512),[[a.bM,A.quantity,void 0,{number:!0}]])])])])]),(0,n._)("div",I,[U.update&&U.product.active?((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:t[1]||(t[1]=e=>T.toggleActive()),class:"btn btn-dark"},(0,o.zw)(e.$t("card.deactivate")),1)):(0,n.kq)("",!0),U.update&&!U.product.active?((0,n.wg)(),(0,n.iD)("button",{key:1,onClick:t[2]||(t[2]=e=>T.toggleActive()),class:"btn btn-light"},(0,o.zw)(e.$t("card.activate")),1)):(0,n.kq)("",!0),U.update?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("button",{key:2,onClick:t[3]||(t[3]=e=>U.addToCart(U.product.name,A.quantity)),class:"btn btn-light ms-auto"},(0,o.zw)(e.$t("card.cart")),1))])])}var $=r(9354),A=r(2492),T=r.n(A),M={props:["product","index","addToCart","routerPath","update"],data(){return{quantity:1}},methods:{onClick(){this.$emit("clicked",this.product)},toggleActive(){const e=this.product;e.active=!this.product.active,$.Z.createNewProduct(e).then((e=>{console.log(e.data),T().fire({icon:"success",title:this.$t("product.save"),showConfirmButton:!1,timer:1500})})).catch((e=>{console.log(e.response.status),console.log(e.response.data),T().fire({icon:"error",title:"Oops...",text:e.response.data.message})}))}}},X=r(89);const x=(0,X.Z)(M,[["render",U]]);var L=x},8092:function(e,t,r){var n={"./en.json":3482,"./es.json":3063};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=8092},6507:function(e,t,r){"use strict";e.exports=r.p+"img/default.0fd19f10.jpg"}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.m=e,function(){var e=[];r.O=function(t,n,o,a){if(!n){var i=1/0;for(u=0;u<e.length;u++){n=e[u][0],o=e[u][1],a=e[u][2];for(var s=!0,c=0;c<n.length;c++)(!1&a||i>=a)&&Object.keys(r.O).every((function(e){return r.O[e](n[c])}))?n.splice(c--,1):(s=!1,a<i&&(i=a));if(s){e.splice(u--,1);var l=o();void 0!==l&&(t=l)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,o,a]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,n){return r.f[n](e,t),t}),[]))}}(),function(){r.u=function(e){return"js/"+({15:"map-deliveries",386:"add-new-product",443:"about",535:"login",668:"new-order",685:"register",760:"past-orders",799:"info-product",845:"profile",876:"update-product",893:"products",997:"orders-now"}[e]||e)+"."+{15:"01ad9d67",228:"52f461bb",386:"7ac322f4",443:"f05a29f8",535:"3a5021f8",668:"ff40341c",685:"796995b2",760:"c8ce6a93",799:"9607e39e",818:"55cb057c",845:"b594e73f",876:"d20f6b61",893:"cd962d4e",997:"a918da3e"}[e]+".js"}}(),function(){r.miniCssF=function(e){}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="frontend:";r.l=function(n,o,a,i){if(e[n])e[n].push(o);else{var s,c;if(void 0!==a)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+a),s.src=n),e[n]=[o];var m=function(t,r){s.onerror=s.onload=null,clearTimeout(p);var o=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(e){return e(r)})),t)return t(r)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){r.p="/"}(),function(){var e={143:0};r.f.j=function(t,n){var o=r.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var a=new Promise((function(r,n){o=e[t]=[r,n]}));n.push(o[2]=a);var i=r.p+r.u(t),s=new Error,c=function(n){if(r.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var a=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,o[1](s)}};r.l(i,c,"chunk-"+t,t)}},r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,a,i=n[0],s=n[1],c=n[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(c)var u=c(r)}for(t&&t(n);l<i.length;l++)a=i[l],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(u)},n=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(3084)}));n=r.O(n)})();
//# sourceMappingURL=app.688f1766.js.map