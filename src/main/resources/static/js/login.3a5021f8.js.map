{"version":3,"file":"js/login.3a5021f8.js","mappings":"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","sources":["webpack://frontend/./src/services/UserFrontService.js","webpack://frontend/./src/views/LoginView.vue","webpack://frontend/./src/views/LoginView.vue?5755"],"sourcesContent":["import axios from 'axios'\n\nconst API_REGISTER_URL = '/api/registration'\nconst API_LOGIN_URL = '/api/login'\nconst config = {\n  headers: { Authorization: `Bearer ${localStorage.token}` }\n}\n\nclass UserFrontService {\n  registerNewUser (json) {\n    return axios.post(API_REGISTER_URL, json)\n  }\n\n  loginUser (json) {\n    return axios.post(API_LOGIN_URL, json)\n  }\n\n  getUser (json) {\n    return axios.post(API_LOGIN_URL + '/getuser', json)\n  }\n\n  getUsers () {\n    return axios.post(API_LOGIN_URL, config)\n  }\n\n  changeUserRole (json) {\n    return axios.post(API_LOGIN_URL + '/role', json)\n  }\n}\n\nexport default new UserFrontService()","<template>\n    <main class=\"wrapper\">\n        <h1 class=\"center\">{{ $t('user.signIn') }}</h1>\n        <div class=\"container\">\n          <div class=\"card-container\">\n            <form @submit.prevent=\"checkform\">\n                <div class=\"form-group\">\n                    <label for=\"email\">Email:</label>\n                    <input v-model.trim=\"email\" type=\"email\" id=\"email\" class=\"form-control\"/>\n                    <p id=\"emailHelp\" class=\"error\" v-if=\"errorEmail\">{{ $t('user.error.email') }}</p>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"pass\">{{ $t('user.pass') }}:</label>\n                    <input v-model.trim=\"pass\" type=\"text\" id=\"pass\" class=\"form-control\"/>\n                    <p id=\"passHelp\" class=\"error\" v-if=\"errorPass\">{{ $t('user.error.passReq') }}</p>\n                </div>\n                  <div class=\"user-cell\">\n                    <p>{{ $t('user.noAcc') }}</p>\n                    <router-link to=\"/register\" class=\"user-link\">\n                    <span>{{ $t('user.buttonSU') }}</span>\n                    </router-link>\n                  </div>\n                <p class=\"error\" v-if=\"errorCred\">{{ $t('user.error.wrong') }}</p>\n                <button type=\"submit\" class=\"user-submit\">{{ $t('user.buttonSI') }}</button>\n            </form>\n          </div>\n        </div>\n    </main>\n</template>\n\n<script>\nimport UserFrontService from '@/services/UserFrontService.js'\n\nexport default {\n  data () {\n    return {\n      email: '',\n      pass: '',\n      errorEmail: false,\n      errorPass: false,\n      errorCred: false\n    }\n  },\n  methods: {\n    checkform () {\n      if (this.email && this.pass) {\n        this.errorEmail = false\n        this.errorPass = false\n        const user = {\n          email: this.email,\n          password: this.pass\n        }\n        console.log('this is checkform method in loginView')\n        UserFrontService.loginUser(user).then((response) => {\n          console.log(response.data)\n          // si la respuesta del backend ha sido correcta,\n          // nos devuelve el token que guardamos en local storage\n          localStorage.setItem('token', response.data)\n          // recibimos los datos del usuario desde el backend\n          // y emitimos el objeto user con sus datos\n          UserFrontService.getUser(user).then((response) => {\n            console.log(response.data)\n            localStorage.setItem('user', JSON.stringify(response.data))\n            this.emitter.emit('loggedUser', response.data)\n            this.$router.push('/profile')\n          }).catch((error) => {\n            this.errorCred = true\n            console.log(error)\n          })\n        }).catch((error) => {\n          this.errorCred = true\n          console.log(error)\n        })\n      } else {\n        if (!this.email) {\n          this.errorEmail = true\n        }\n        if (this.pass === '') {\n          this.errorPass = true\n        }\n      }\n    }\n  }\n}\n</script>","import { render } from \"./LoginView.vue?vue&type=template&id=753afde6\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/kira/Documents/Business_Baker/BBaker/src/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["API_REGISTER_URL","API_LOGIN_URL","config","headers","Authorization","localStorage","token","UserFrontService","registerNewUser","json","axios","loginUser","getUser","getUsers","changeUserRole","class","_createElementVNode","for","id","type","_createElementBlock","_toDisplayString","_ctx","onSubmit","$options","_hoisted_6","$data","$event","_createVNode","_component_router_link","to","data","email","pass","errorEmail","errorPass","errorCred","methods","checkform","this","user","password","console","log","then","response","setItem","JSON","stringify","emitter","emit","$router","push","catch","error","__exports__","render"],"sourceRoot":""}