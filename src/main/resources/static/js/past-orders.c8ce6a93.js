"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[760],{8109:function(t,e){e["Z"]={prettyDate(t,e){const r=new Date(t),l={weekday:"long",year:"numeric",month:"long",day:"numeric"};return null==t?"":"es"===e?r.toLocaleDateString("es-ES",l)+"  "+r.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):r.toLocaleDateString("en-EN",l)+"  "+r.toLocaleTimeString("en-EN",{hour:"2-digit",minute:"2-digit"})},prettyDateShort(t,e){const r=new Date(t),l={year:"numeric",month:"numeric",day:"numeric"};return null==t?"":"es"===e?r.toLocaleDateString("es-ES",l)+"  "+r.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):r.toLocaleDateString("en-EN",l)+"  "+r.toLocaleTimeString("en-EN",{hour:"2-digit",minute:"2-digit"})},prettyDateFromDate(t,e){const r=new Date(t),l={year:"numeric",month:"numeric",day:"numeric"};return null==t?"":"es"===e?r.toLocaleDateString("es-ES",l):r.toLocaleDateString("en-EN",l)}}},9233:function(t,e,r){r.d(e,{Z:function(){return V}});var l=r(3396),n=r(7139);const a={class:"container"},o={class:"row padding-10"},i={class:"col-md-2"},d={class:"col"},s={class:"row padding-10"},c={class:"col-md-2"},u={key:0,class:"col-md"},g={key:1,class:"col-md"},w={class:"row padding-10"},p=(0,l._)("div",{class:"col-md-2 bold"}," Total: ",-1),m={class:"col-md bold"},D={class:"row padding-10"},h=(0,l._)("div",{class:"col-md-2 bold"}," Status: ",-1),_={key:0,class:"col-md"},y={key:1,class:"col-md"},k={class:"row"},z={class:"table center table-striped"},b=(0,l._)("th",null,null,-1),v={scope:"col"},S={scope:"col"},$={scope:"col"},f=["src"],E={key:0,class:"centered"},B=(0,l._)("i",{class:"icofont-arrow-left icofont-2x"},null,-1);function q(t,e,r,q,L,N){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",a,[(0,l._)("div",o,[(0,l._)("div",i,(0,n.zw)(t.$t("BBorder.created"))+":",1),(0,l._)("div",d,(0,n.zw)(N.prettyDate(r.order.creationDate,this.$i18n.locale)),1)]),(0,l._)("div",s,[(0,l._)("div",c,(0,n.zw)(t.$t("BBorder.paid"))+":",1),null!==r.order.paidDate?((0,l.wg)(),(0,l.iD)("div",u,(0,n.zw)(N.prettyDate(r.order.paidDate,this.$i18n.locale)),1)):(0,l.kq)("",!0),null===r.order.paidDate?((0,l.wg)(),(0,l.iD)("div",g,(0,n.zw)(t.$t("product.notpaid")),1)):(0,l.kq)("",!0)]),(0,l._)("div",w,[p,(0,l._)("div",m,(0,n.zw)(r.order.total)+" €",1)]),(0,l._)("div",D,[h,"es"===this.$i18n.locale?((0,l.wg)(),(0,l.iD)("div",_,(0,n.zw)(r.order.orderStatus.name),1)):((0,l.wg)(),(0,l.iD)("div",y,(0,n.zw)(r.order.orderStatus.nameENG),1))]),(0,l._)("div",k,[(0,l._)("table",z,[(0,l._)("thead",null,[(0,l._)("tr",null,[b,(0,l._)("th",v,(0,n.zw)(t.$t("BBorder.name")),1),(0,l._)("th",S,(0,n.zw)(t.$t("BBorder.price")),1),(0,l._)("th",$,(0,n.zw)(t.$t("BBorder.quantity")),1)])]),(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.order.orderProducts,(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t.id},[(0,l._)("td",null,[(0,l._)("img",{class:"small-image",src:t.product.image,alt:"Image from the db"},null,8,f)]),(0,l._)("td",null,(0,n.zw)(t.product.name),1),(0,l._)("td",null,(0,n.zw)(t.product.price)+"€",1),(0,l._)("td",null,(0,n.zw)(t.quantity),1)])))),128))])])])]),r.past?((0,l.wg)(),(0,l.iD)("div",E,[(0,l._)("button",{onClick:e[0]||(e[0]=t=>r.toggle()),class:"btn btn-dark more-space d-flex align-items-center"},[B,(0,l.Uk)(" "+(0,n.zw)(t.$t("BBorder.back")),1)])])):(0,l.kq)("",!0)],64)}var L=r(8109),N={name:"ExistingOrder",props:["order","toggle","past"],data(){return{}},methods:{prettyDate(t,e){return L.Z.prettyDate(t,e)}}},O=r(89);const Z=(0,O.Z)(N,[["render",q]]);var V=Z},1812:function(t,e,r){r.r(e),r.d(e,{default:function(){return N}});var l=r(3396),n=r(7139);const a={class:"wrapper"},o={class:"center"},i={key:0,class:"container"},d={class:"table table-striped"},s={class:"center"},c=(0,l._)("th",null,"#",-1),u=(0,l._)("th",null,"Status",-1),g=(0,l._)("th",null,null,-1),w={class:"center"},p={key:0},m={key:1},D={class:"list-unstyled"},h={key:0},_={key:1},y={key:2},k={key:3},z={class:"center"},b=["onClick"],v=(0,l._)("tr",null,null,-1);function S(t,e,r,S,$,f){const E=(0,l.up)("ExistingOrderVue");return(0,l.wg)(),(0,l.iD)("main",a,[(0,l._)("h1",o,(0,n.zw)(t.$t("menu.past")),1),$.orderVisible?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",i,[(0,l._)("table",d,[(0,l._)("thead",s,[c,(0,l._)("th",null,(0,n.zw)(t.$t("product.creationDate")),1),(0,l._)("th",null,(0,n.zw)(t.$t("product.paid")),1),(0,l._)("th",null,(0,n.zw)(t.$t("product.total")),1),(0,l._)("th",null,(0,n.zw)(t.$t("product.products")),1),u,g]),(0,l._)("tbody",w,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)($.orders,((e,r)=>((0,l.wg)(),(0,l.iD)("tr",{key:r},[(0,l._)("td",null,(0,n.zw)(r+1),1),(0,l._)("td",null,(0,n.zw)(f.prettyDate(e.creationDate,this.$i18n.locale)),1),null!==e.paidDate?((0,l.wg)(),(0,l.iD)("td",p,(0,n.zw)(f.prettyDate(e.paidDate,this.$i18n.locale)),1)):(0,l.kq)("",!0),null===e.paidDate?((0,l.wg)(),(0,l.iD)("td",m,(0,n.zw)(t.$t("product.notpaid")),1)):(0,l.kq)("",!0),(0,l._)("td",null,(0,n.zw)(e.total)+"€",1),(0,l._)("td",null,[(0,l._)("ul",D,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.orderProducts,(t=>((0,l.wg)(),(0,l.iD)("li",{key:t.id},["es"===this.$i18n.locale?((0,l.wg)(),(0,l.iD)("span",h,(0,n.zw)(t.product.name)+" - "+(0,n.zw)(t.quantity),1)):((0,l.wg)(),(0,l.iD)("span",_,(0,n.zw)(t.product.nameENG)+" - "+(0,n.zw)(t.quantity),1))])))),128))])]),"es"===this.$i18n.locale?((0,l.wg)(),(0,l.iD)("td",y,(0,n.zw)(e.orderStatus.name),1)):((0,l.wg)(),(0,l.iD)("td",k,(0,n.zw)(this.order.orderStatus.nameENG),1)),(0,l._)("td",z,[(0,l._)("button",{onClick:t=>f.viewOrder(e),class:"btn btn-light"},(0,n.zw)(t.$t("card.details")),9,b)])])))),128)),v])])])),$.orderVisible?((0,l.wg)(),(0,l.j4)(E,{key:1,order:$.order,toggle:f.toggle,past:!0},null,8,["order","toggle"])):(0,l.kq)("",!0)])}var $=r(4911),f=r(8109),E=r(9233),B={components:{ExistingOrderVue:E.Z},data(){return{orders:[],order:"",orderVisible:!1}},created(){this.getMyOrders()},methods:{getMyOrders(){$.Z.getMyOrders(JSON.parse(localStorage.user).userID).then((t=>{this.orders=t.data,this.order=t.data[0]}))},prettyDate(t,e){return f.Z.prettyDateShort(t,e)},viewOrder(t){this.order=t,console.log(t),this.toggle()},toggle(){this.orderVisible=!this.orderVisible}}},q=r(89);const L=(0,q.Z)(B,[["render",S]]);var N=L}}]);
//# sourceMappingURL=past-orders.c8ce6a93.js.map